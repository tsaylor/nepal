{% extends "base.html" %}
{% load staticfiles %}

{% block hbs_templates %}
<script id="profile_template" type="text/x-handlebars-template">{% verbatim %}<li class="short_profile">
        <img class="small_pic" src='{{pic_url.bigger}}' />
        <div class="name">{{name}}</div>
        <a class="username" href='https://twitter.com/{{screen_name}}'>@{{screen_name}}</a>
        <div class="close_icon">Close</div>
    </li><li class="long_profile hidden">
        <img class="large_pic" src='{{pic_url.[200]}}' />
        <div class="name">{{name}}</div>
        <a class="username" href='https://twitter.com/{{screen_name}}'>@{{screen_name}}</a>
        <div class="location">{{location}}</div>
        <div class="bio">{{description}}</div>
    </li>{% endverbatim %}</script>
{% endblock %}

{% block body %}
<ul class="people"></ul>
<div id="loading"></div>
<script>
$(document).ready(function() {
    get_profiles_for_search('');
    $('input[name=search]').on('keyup', function(evt) {
        delay(function(){
            term = evt.target.value;
            if (last_search != term) {
                get_profiles_for_search(term);
            }
        }, 500 );
    })
})
</script>
{% endblock %}
